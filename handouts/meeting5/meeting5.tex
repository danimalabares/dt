\input{/Users/daniel/github/config/preamble.sty}%This is available at github.com/danimalabares/config
\input{/Users/daniel/github/config/thms-eng.sty}%This is available at github.com/danimalabares/config
\usepackage{multicol}
%\usepackage[style=authortitle-terse,backend=bibtex]{biblatex}
%\addbibresource{/Users/daniel/github/config/bibliography.bib}

\begin{document}

\begin{minipage}{\textwidth}
	\begin{minipage}{1\textwidth}
	Handouts by Misha Verbitsky	 \hfill Daniel GonzÃ¡lez Casanova Azuela
		
		{\small \href{http://verbit.ru/IMPA/METRIC-2023/}{verbit.ru/IMPA/METRIC-2023/} \hfill\href{https://github.com/danimalabares/dt}{github.com/danimalabares/dt}

		 \href{http://verbit.ru/MATH/GEOM-2013/}{verbit.ru/MATH/GEOM-2013}}
	\end{minipage}
\end{minipage}\vspace{.2cm}\hrule

\vspace{10pt}
{\huge Practice exercises on smooth manifolds}

{\large Fifth meeting, 28 of January}
\vspace{1em}

Plan for today: correct an exercise from last time (Partition of unity), two more exercises from Partition of unity. Homework 1 from Differential Topology course (3 exercises). Questions about Homework 2 from Complex Surfaces.

\iffalse\begin{itemize}
\item Topological spaces (1)
\item Hausdorff spaces (1)
\item Compact spaces (1)
\item Smooth manifolds (4)
\item Embedded submanifolds (2)
\item Partition of unity (2)
\end{itemize}\fi

\section{Partition of unity}

\begin{thing4}{Exercise 2.30}[!]\label{exer:2.30}\leavevmode
Let \(U \subset M\) be an open subset with compact closure, and \(V \supset M\setminus U\) another open subset. Prove that there exists \(U' \subset U\) such that the closure of \(U'\) is contained in \(U\), and \(V \cup  U'=M\).

\textbf{Hint.} Use the previous exercise.
\end{thing4}

\begin{proof}[Solution]\leavevmode
	(Using ChatGPT.) Define the \textit{\textbf{boundary}} \(\partial A\) of a set  \(A\) in a topological space \(X\) to be the set of points \(x \in X\) such that every neighbourhood of \(x\) contains a point of \(A\) and a point of \(X\setminus A\).


	The boundary \(\partial U\) of our open set with compact closure \(U\) is compact: it is contained in the closure of \(U\) (since all its points are limit points of \(U\)), and it is closed: every point in its complement has a neighbourhood that stays inside its complement; whether it is in \(U\), or in \(M\setminus \bar{U}\).

	Now let's use Exercise \hyperref[exer:2.29]{2.29}. We can separate \(K_1:=\partial U\) and \(K_2:=\overline{U \setminus V}\). Both are compact since they are closed sets in the compact set \(\overline{U}\). And they are disjoint: if \(x \in \partial U \cap \overline{U\setminus V}\), then \(x\) cannot be in \(U\) since it is a point of the boundary, meaning that \(x \in V\), and since \(V\) is open, there is a  neighbourhood \(W\) of \(x\) contained in \(V\). But \(x \in \overline{U \setminus V}=U\setminus V \cup \partial U\setminus V\), so that \(x \in \partial U \setminus V\) since \(x \not \in U\). So every neighbourhood of \(x\) intersects \(U\setminus V\). So there is a point of \(W\) not in \(V\), a contradiction.

	Then we use  Exercise \hyperref[exer:2.29]{2.29} to obtain disjoint neighbourhoods \(U_1\) and \(U_2\) of \(K_1\) and \(K_2\).

	Now let's show that \(U_2 \cap U:=U'\) is the open set we are looking for, that is, that its closure is contained in \(U\) and \(V \cup U'=M\). If a point in the closure of \(U'\) was outside \(U\), then such a limit point would be in the boundary of \(U\): any open neighbourhood must contain a point of \(U\) since it is a limit point of \(U\), and also a point outside it, the limit point itself! But the boundary of \(U\) is disjoint from  \(U_2\).This shows that the closure of \(U'\) is inside \(U\).

	To show that \(V \cup  U'=M\) pick a point in \(M \setminus V\). Then \(U':=U_2 \cap U\supset K_2:=U\setminus V\) contains it.
\end{proof}

	\begin{thing4}{Exercise 2.31}[!]\label{exer:2.31}\leavevmode
Let \(\{U_\alpha\}\) be a countable locally finite cover of a Hausdorff topological space, such that a closure of each \(U_\alpha\) is compact. Prove that there exists another cover \(\{V_\alpha\}\) indexed by the same set, such that \(V_\alpha \Subset U_\alpha\).

\textbf{Hint.} Use induction and the previous exercise.
\end{thing4}

\begin{proof}[Solution]\leavevmode
In order to use Exercise \hyperref[exer:2.30]{2.30} consider for every \(\alpha\) the set \(W_\alpha=\bigcup_{\beta \neq  \alpha} U_\beta\). Then \(W_\alpha \supset M\setminus U_\alpha\), so that there exists \(U'_\alpha \Subset U_\alpha\) and \(W_\alpha \cup U'_\alpha=M\). It remains to show that \(\{U'_\alpha\}\) is a cover. Let \(x \in M\) be any point. but how?

That's why the hint says use induction. We go one by one: consider \(U_1\), an open set. The rest of the cover yields an open set like  \(V\) from the last exercise, which contains the complement of  \(U\). Then that exercise yields a set  \(U_1' \Subset U\) st \(V \cup  U_1' = M\).

Now take \(n=2\). But don't use the original open cover:  \textit{substitute \(U_1\) by \(U_1'\)}. Obviously. (It works basically because of the second condition, explaining why we went through so much hustle to construct the set \(U'\), anyway moving on.) The point is that now we get a set \(U_2' \Subset U_2\) which covers \(M\) along with \(U_1'\) and the rest of the \(U_\alpha\).

This works for all $\alpha$: there is \(U_\alpha' \Subset U_\alpha\) such that \(U_\alpha' \cup  U_{\alpha-1}' \cup  \ldots \cup U_1' \cup \bigcup_{i>\alpha}U_i\) covers \(M\).

Let's show that \(\{U'_\alpha\}\) is a cover. Suppose there's a point \(x\) outside \(U'_\alpha\) for all \(\alpha\). Then it is in \(\bigcup_{i>\alpha}U_i\) for all \(\alpha\), meaning 
%that there is \(i_0\) st \(x \in U_{i_0}\). But then \(U'_{i_0}\cup U'_{i_0-1}\cup \ldots\cup \bigcup_{i>i_0}U_i\) is a cover of \(M\)! So \(x \in U_{i_1}\) for \(i_1>i_0\). So 
\(x\) is in a infinite ammount of open sets of the locally finite cover \(U_i\).
\end{proof}

\begin{thing4}{Exercise 2.34}\label{exer:2.34}\leavevmode
Show that all derivatives of \(e^{-\frac{1}{x^2}}\) at 0 vanish.
\end{thing4}

\begin{proof}[Solution]\leavevmode
	First notice that the function \(e^{-x^{-2}}\) is not defined at 0. However, the limit as \(x \to 0\) is zero, so that defining the function to be 0 at \(x=0\) preserves continuity. The same will happen with its derivatives.

	The first derivative is
	\[\frac{d}{dx}e^{-x^{-2}}=2x^{-3}e^{-x^{-2}}.\]
Since exponential decay is faster than polynomial decay, the limit as \(x \to 0\) is zero.

	The second derivative is
\begin{align*}
	\frac{d^2}{dx^2}e^{-x^{-2}}&=2\Big(x^{-3}{\color{6}\frac{d}{dx}e^{-x^{-2}}}-3x^{-4}e^{-x^{-2}}\Big)\\
&=2\Big(x^{-3}{\color{6}2x^{-3}e^{-x^{-2}}}-3x^{-4}e^{-x^{-2}}\Big)\\
&=P_2(x)e^{-x^{-2}}
\end{align*}
where \(P_2(x)\) is some polynomial, so that again the limit as \(x \to 0\) is zero. Proceeding by induction suppose that the \(n\)-th derivative is the product of some polynomial \(P_n(x)\) times \(e^{-x^{-2}}\). Then the \((n+1)\)-th derivative is
\begin{align*}
	\frac{d^{n+1}}{dx^{n+1}}e^{-x^{-2}}&=\frac{d}{dx}\left(\frac{d^n}{dx^n}e^{-x^{-2}}\right)\\
&=\frac{d}{dx}\left(P_n(x)e^{-x^{-2}}\right)\\
&=P'_n(x)e^{-x^{-2}}+P_n(x)\frac{d}{dx}e^{-x^{-2}}\\
&=P'_n(x)e^{-x^{-2}}+P_n(x)P_1(x)e^{-x^{-2}}.
\end{align*}
\end{proof}

\section{Homework 1 from Differential Topology}

\begin{thing1}{Problem 1}\label{p:1}\leavevmode
Let \(G(k,n)\) be the set of dimension \(k\) vector subspaces of \(\mathbb{R}^n\). Construct a smooth structure on \(G(k,n)\) and compute its dimension.
\end{thing1}

\begin{proof}[Solution]\leavevmode
	(Ideas from \href{https://math.stackexchange.com/questions/1310511/looking-for-a-neat-proof-of-the-fact-that-the-grassmannian-manifold-is-hausdorff}{StackExchange}, \cite{hat}.) Every \(k\)-vector subspace of \(\mathbb{R}^n\) has an orthonormal base. \(\mathsf{O}(k)\) acts on the set \(V(n,k)\) of orthonormal frames of \(\mathbb{R}^n\) since its transformations preserve the inner product. The equivalence relation \(\alpha \sim \beta\) iff \(\exists A \in \mathsf{O}(k)\) st \(A \alpha=\beta\) for \(\alpha,\beta \in V(n,k\) is the same as asking that two bases generate the same vector space, so that the quotient space is \(G(n,k)\).

%To give \(V(n,k)\) a smooth structure \href{https://math.stackexchange.com/questions/3678179/collection-of-m-frame-is-a-manifold-stiefel-manifold}{notice} it is an open subset of \(S^{n-1} \times \ldots\times S^{n-1}\). Indeed, any orthonormal frame can be thought as an \(n \times k\) matrix of rank \(k\), meaning that it has a \(k \times k\) submatrix which, by continuity of the determinant of this submatrix, has a neighbourhood of rank \(k\) matrices around it. The smooth structure on \(V(n,k)\) exists since open subsets of manifolds are manifolds themselves.

	\(V(n,k)\) has a smooth structure making it a manifold of dimesion \(nk-(k+1)k/2\) [\href{https://mathworld.wolfram.com/StiefelManifold.html}{Wolfram}].

In order to use the Quotient Manifold Theorem (thm 21.10 in \cite{lee}) we need to check that the action \(\mathsf{O}(n)\mathbb{y}V(n,k)\) is smooth, free and proper. The latter follows from \(O(n)\) being compact (which in turn is because it is closed by being a level set of \(\mathsf{GL}(n) \to \operatorname{Mat}(n),A\mapsto A^{\mathbf{T}}A\), and bounded the normality condition). Freeness and smoothness are immediate.

The dimension of the quotient manifold \(G(n,k)\) is \(\dim V(n,k)-\dim \mathsf{O}(k)\). Since the dimension of \(\mathsf{O}(k)\) is \(k(k-1)/2\), substracting we get \(\dim G(n,k)=k(n-k)\).
\end{proof}

Next I show my progress following the proof of \cite{gui2}, which unfortunately is incomplete. Feel free to skip it.

\begin{proof}\leavevmode
(Proof in \cite{gui2}.) First we topologize \(G(n,k)\) as follows. We identify it with the quotient \(W/ \sim\), the set of \(k\)-frames (sets of \(k\) linearly independent vectors of \(\mathbb{R}^n\)) modulo the equivalence relation of spanning the same vector space. Since \(W \subset (\mathbb{R}^n)^k\) it has a subspace topology, and \(G(n,k)\) has a quotient topology.

	Now fix \(V \in G(n,k)\). To construct a chart consider the set
	\[W_V=\{U \in G(n,k):\text{orthogonal projection \(U \to V\) is bijective} \}\]
and the function
\begin{align*}
	\rho_V: W_V &\longrightarrow \operatorname{Hom}(V,V^\perp) \\
	U &\longmapsto \pi_{U,V^\perp}\circ\pi^{-1}_{U,V}
\end{align*}
where \(\pi_{X,Y}\) is the orthogonal projection from \(X\) to \(Y\). Since the set \(\operatorname{Hom}(V,V^\perp)\) is the space of matrices of  \(\dim V \times \dim V^\perp=k (n-k)\), we may write \(\operatorname{Hom}(V,V^\perp)=\mathbb{R}^{k(n-k)}\).

To complete the proof we must confirm that: (1) \(G(n,k)\) is Hausdorff and second countable, (2) \(W_V\) is open for all  \(V\), (3) \(\rho_V\) is a homeomorphism for all \(V\), (4) transition maps \(\rho_{V}\circ \rho_{V'}^{-1}\) are smooth.
	
\begin{enumerate}
\item By Theorem 7.7 in \cite{tus}, it's enough to show that the quotient projection \(q:W \to W/\sim\) is an open map and that the graph \(\Gamma=\{(x,y) \in W:x \sim y\}\) of \(\sim\) is closed in \(W \times W\).

	\textbf{($q$ is open.)} Let \(Z \subset W\) be an open set. Showing that \(q\) is open means that \(q^{-1}(q(Z))\) is open. Let \(\{z_i\}_{i=1}^k\) be an element (a frame) in \(q^{-1}(q(Z))\). We will show that there is an (open) neighbourhood of \(\{z_i\}\) contained in \(q^{-1}(q(W))\). 

	Since \(\{z_i\}\in q^{-1}(q(Z))\), \(\{z_i\}\) generates the same vector space as some frame \(\{z_i'\}\) in \(Z\). Because \(Z\) is open there is an open neighbourhood \(Z'\) of \(\{z_i'\}\) contained in \(Z\). The fact that \(\operatorname{span}(z_i)=\operatorname{span}(z_i')\) means that there is a linear transformation \(A \in \mathsf{GL}(k)\) mapping \(z_i \mapsto z_i'\).

	Notice that \(A\) does not act on elements of  \(W\) pointwise: they are  $nk$-dimensional vectors! However, \(A\) does act on elements of \(W\) when these are seen as frames within the \(k\)-dimensional vector space they span. Explicitly, a frame given as an \(n \times k\) matrix of rank \(k\) may be multiplied by \(A\) (a \(k \times k\) matrix) giving a \(n \times k\) matrix. The range of the product of this matrices is \(k\) since \(A\) is invertible, i.e. another frame.

	Since \(A\) is a homeomorphism, the set \(A(Z')\subset Z\) is the required open  neighbourhood of \(\{z_i\}\).

	\textbf{(Graph of \(\sim\) is closed.)} {\color{2}[Incomplete]} 

\item To see that \(W_V\) is open define \(\widetilde{W}_V\) to be the set of \(k\)-frames  \(\{u_i\}_{i=1}^k\) of \(\mathbb{R}^n\) such that the orthogonal projection from \(\operatorname{span}(u_i)\) onto \(V\) is bijective. Then \(\widetilde{W}_V/\sim=W_V\). Since we have shown that the quotient map $q$ is open, it's enough to show that \(\widetilde{W}_V\) is open.

	Fix \(\{u_i\}_{i=1}^n \in \widetilde{W}_V\). It is clear from elementary properties of euclidean space that there is a neighbourhood of every \(u_i\) such that the vector space obtained by choosing one vector in each of these neighbourhoods orthogonally-projects bijectively onto \(V\). Since we are using the product topology on \(W\), it follows that \(\widetilde{W}_V\) is open.
%	the set of orthogonal projections \(\{\pi(u_i)\}_{i=1}^k\) onto \(V\) generate \(V\).
\item {\color{2}[Incomplete]}
	\iffalse To see that \(\rho_V\) is injective suppose that \(U\) and \(U'\) are such that \(\rho_V(U)=\rho_V(U')\), that is, \(\pi_{U,V^\perp} \circ \pi^{-1}_{U,V}=\pi_{U',V^\perp} \circ \pi^{-1}_{U',V}\). Now given a base \(\{v_i\}\) of \(V\) we obtain bases \(\{u_i\}\) of  \(U\) and \(\{u_i'\}\) of \(U'\) (because the projections \(\pi_{U,V},\pi_{U',V}\) are isomorphisms). The projections of these bases onto \(V^\perp\) coincide by hypothesis, i.e. \(\pi_{U,V^\perp}(u_i)=\pi_{U',V^\perp}(u_i')\). Suppose \(u \in U\setminus U'\). Projecting \(u=\sum \lambda^i u_i\) to \(V^\perp\) gives a linear combination of \(\pi_{U,V^\perp}(u_i)=\pi_{U',V^\perp}(u_i')\), yielding an element of \(U'\).

	First we check surjectivity. Fix \(T: V \to V^\perp\) linear and bases \(\{v_i\}_{i=1}^k\) of \(V\) and \(\{v_j'\}_{j=1}^{n-k}\) of \(V^\perp\). Since \(\pi_{U,V}\) is a bijection for any \(U \in W_V\), t. Any vector space \(U\) projecting\fi

	%Any linear map from \(V \cong \mathbb{R}^k\) to \(V^\perp \cong \mathbb{R}^{n-k}\)
\item {\color{2}[Incomplete]}
\end{enumerate}



	%First consider the set of size \(k\) orthonormal frames (=linearly independent sets) of \(R^n\). It is a subset of \(S^{n-1}\times\ldots\times S^{n-1}\), so that it has a subspace topology. {\color{2}But how to give it a smooth structure?}
\end{proof}

\begin{thing1}{Problem 2}\label{p:2}\leavevmode
Let \(M\) and $N$ be manifolds of dimension $m$ and $n$, respectively, and let \(f:M \to N\) be a smooth function whose rank is \(k\) for every point in an open set \(\tilde{U} \subset M\). Prove that for each point \(p \in \tilde{U}\), there exist charts \((U, \phi)\) and \((V,\psi)\) centered at \(p\) and \(f(p)\) such that \(f(U) \subset V\) and
\[\psi \circ f \circ \phi^{-1}(x_1,\ldots,x_k,x_{x+1},\ldots,x_m)=(x_1,\ldots,x_k,0,\ldots,0).\]
\end{thing1}

\begin{proof}[Solution]\leavevmode
	(Adapted from the proof of Theorem B.4 in \cite{tus}.) Since \(D_{p}f\) has rank \(k\) at \(p\), we may assume the first \(k\) columns are linearly independent. Define a locally invertible map of \(\mathbb{R}^m\) to itself by
\[G(x_1,\ldots,x_k,y_1,\ldots,y_{m-k})=\Big(f_1(x,y),\ldots,f_k(x,y),y\Big).\]
where \(f_i\) are the coordinate functions of $f$ for some charts of \(p\) and \(f(p)\). \(G\) is locally invertible since it has nonsingular derivative at \(p\). Notice that \(f \circ G^{-1}\) maps 
\[(x,y) \mapsto \Big(x,f_{k+1} \circ G^{-1}(x,y),\ldots,f_{n} \circ G^{-1}(x,y)\Big).\]
{\color{6}Notice that \(f \circ G^{-1}\) does not depend on \(y\) in a neighbourhood of \(p\):} since \(G\) is locally a diffeomorphism, the rank of \(f \circ G^{-1}\) must be the same as that of \(f\), and its derivative is
\[D_q(f \circ G^{-1})=\begin{pmatrix}\operatorname{Id}&0\\ \frac{\partial (f \circ G^{-1})_i}{\partial x^j} &\frac{\partial (f \circ G^{-1})_i}{\partial y^j}\end{pmatrix},\quad\text{ for }  k \leq i \leq n\]
so that the matrix \(\frac{\partial (f \circ G^{-1})_i}{\partial y^j}\) must be singular \textbf{for all $q$ in a neighbourhood of $p$} (here we use that $f$ has \textbf{constant} rank \(k\)).

This allows us to define the function of (some subsets of) \(R^n\) to itself
\[F(x,y)=\Big(x,y_1-f_{k+1}\circ G^{-1}(x),\ldots,y_n-f_n \circ G^{-1}(x) \Big) \]
which is locally invertible: its derivative is
\[D_{f(p)}F(x,y)=\begin{pmatrix}\operatorname{Id}&0\\ *&\operatorname{Id}\end{pmatrix}\]
using that \(f_i \circ G^{-1}\) does not depend on \(y\) near $p$. Thus we may restrict our domains as necessary to obtain open sets  \(U \ni p\) and \(V \ni f(p)\) such that
\[F \circ \hat{f} \circ G^{-1}(x,y)=F\Big(x,f_{k+1} \circ G^{-1}(x,y),\ldots,f_{n} \circ G^{-1}(x,y)\Big)=(x,0)\]
where \(\hat{f}=(f_1,\ldots,f_n)\) is the coordinate representation of $f$ with which we started.

\end{proof}
\iffalse
\begin{proof}[Ideas using \cite{lee}]\leavevmode
	A linear map with kernel collapses to zero a piece of its domain. Thus the image of the map may be smaller than the domain. Then the rank says how big is the image, how small is the kernel.

	We can chose coordinates such that a linear map of rank \(k\) is seen as the identity in the first \(k\times k\) block and 0 elsewhere: these are given by (1) a basis of the domain composed by a basis of the kernel and the preimage of a basis of the image, and (2) the same basis of the image completed to any basis of the codomain.

	This exercise is the non-flat analogoue for the latter linear case: show that a smooth map of rank \(k\) has coordinate representation \((x_1,\ldots,x_m) \mapsto (x_1,\ldots,x_k,0,\ldots,0)\).

	Proceeding in analogy, we want to find (1) a chart of the domain composed by a chart of the zero-set of \(f \circ \psi\) and the preimage of a chart of the image, and (2) a chart for the codomain which is just the completion of a chart for the image.

	Now the image of $f$ may not be a manifold (for this we need $f$ to be an embedding). But instead $f$ has rank \(k\). If we are allowed to use the level-set theorem, we know at once that \(f^{-1}(c)\) is a \(m-k\)-dimensional submanifold of \(M\) for any \(c \in f(M)\). This gives us a chart for \(f^{-1}(c)\).

	


\end{proof}\fi

\begin{thing1}{Problem 3}\label{p:3}\leavevmode
Let \(M\) be a compact manifold. Prove that does not exist a submersion \(F: M \to \mathbb{R}^k\), \(k>0\).
\end{thing1}

\begin{proof}[Solution]\leavevmode
%{\color{6}How to prove that a submersion is open?}
	Since \(M\) is compact any real-valued function is bounded, so the composition of \(F\) with the modulus function \(\|\cdot\| \circ F\) is bounded and so is \(F\). Now let \(x_0 \in M\) a point such that \(\|F(x)\|\) is maximum over \(M\).

Let \(\gamma\) be the curve in \(\mathbb{R}^k\) given by \(\gamma(t)=F(x_0)+tF(x_0)\). It corresponds to a vector at \(F(x_0)\) pointing in the direction of \(F(x_0)\), so that the norm of points on \(\gamma\) for positive \(t\) is larger than that of \(F(x_0)\)

Since \(D_{x_0}F\) is surjective, there is a vector such that its image under \(D_{x_0}F\) is \([\gamma]\). Namely, \([F^{-1}\circ \gamma]\) for some local inverse of \(F\). (Indeed: \(F_*[F^{-1}\circ \gamma]=\frac{d}{dt}\Big|_{t=0}F \circ F^{-1} \circ \gamma\).)

Now let \(x_1:=F^{-1} \circ \gamma(t_1)\) for some \(t_1>0\). Then \(F(x_1)\) has a bigger norm than \(F(x_0)\):
\begin{align*}
\|F(x_1)\|&=\|\gamma(t_1)\|=\|F(x_0)+t_1F(x_0)\|>\|F(x_0)\|
\end{align*}
but \(\|F(x_0)\|\) is maximum.

\begin{remark}\leavevmode
	After consulting \href{https://math.stackexchange.com/questions/470164/a-submersion-f-mathcalx-to-mathcaly-must-be-surjective}{the literature} I figured an easier proof:  submersion is an open map since it is locally invertible in every point of its image (yielding at every such point an open neighbourhood that stays within \(f(X)\)). Then \(f(X)\) is both open and closed, making \(f\) surjective since \(\mathbb{R}\) is connected. A contradiction, since \(f(X)\) must be bounded.
\end{remark}

\end{proof}

\section{Homework 2 from Complex Surfaces}



\bibliography{bib.bib}



\end{document}
